{
  "contractName": "Booster",
  "abi": [
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "depositLogs",
      "outputs": [
        {
          "name": "stage",
          "type": "bytes32"
        },
        {
          "name": "client",
          "type": "bytes32"
        },
        {
          "name": "value",
          "type": "bytes32"
        },
        {
          "name": "assetID",
          "type": "bytes32"
        },
        {
          "name": "flag",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "name": "assetAddresses",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "assetAddressesArray",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "withdrawalLogs",
      "outputs": [
        {
          "name": "stage",
          "type": "bytes32"
        },
        {
          "name": "client",
          "type": "bytes32"
        },
        {
          "name": "value",
          "type": "bytes32"
        },
        {
          "name": "assetID",
          "type": "bytes32"
        },
        {
          "name": "flag",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "stages",
      "outputs": [
        {
          "name": "receiptRootHash",
          "type": "bytes32"
        },
        {
          "name": "accountRootHash",
          "type": "bytes32"
        },
        {
          "name": "data",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "instantWithdrawMaximum",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "goblin",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "depositSequenceNumber",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "managerAddress",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "stageHeight",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_boosterOwner",
          "type": "address"
        },
        {
          "name": "_goblin",
          "type": "address"
        },
        {
          "name": "_assetAddresses",
          "type": "address[]"
        },
        {
          "name": "_instantWithdrawMaximum",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "payable": true,
      "stateMutability": "payable",
      "type": "fallback"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "_dsn",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "name": "_client",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_value",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_assetID",
          "type": "bytes32"
        }
      ],
      "name": "ProposeDeposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "_type",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "_gsn",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_lightTxHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_fromBalance",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_toBalance",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_sigLightTx",
          "type": "bytes32[3]"
        },
        {
          "indexed": false,
          "name": "_sigReceipt",
          "type": "bytes32[3]"
        }
      ],
      "name": "VerifyReceipt",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "_wsn",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "name": "_client",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_value",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_assetID",
          "type": "bytes32"
        }
      ],
      "name": "Withdraw",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "_stageHeight",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_receiptRootHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_accountRootHash",
          "type": "bytes32"
        }
      ],
      "name": "Attach",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "_challengedType",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "_client",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "_lightTxHash",
          "type": "bytes32"
        }
      ],
      "name": "Challenge",
      "type": "event"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "asAddress",
          "type": "address"
        }
      ],
      "name": "setAssetAddress",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "asAddress",
          "type": "address"
        }
      ],
      "name": "unsetAssetAddress",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getAssetAddressesLength",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_parameter",
          "type": "bytes32[]"
        }
      ],
      "name": "proposeTokenDeposit",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_parameter",
          "type": "bytes32[]"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_parameter",
          "type": "bytes32[]"
        }
      ],
      "name": "proposeWithdrawal",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_parameter",
          "type": "bytes32[]"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_parameter",
          "type": "bytes32[]"
        }
      ],
      "name": "instantWithdraw",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_from",
          "type": "address"
        },
        {
          "name": "_value",
          "type": "uint256"
        }
      ],
      "name": "tokenFallback",
      "outputs": [
        {
          "name": "success",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_parameter",
          "type": "bytes32[]"
        },
        {
          "name": "_assetAddress",
          "type": "bytes32[]"
        },
        {
          "name": "_feeValue",
          "type": "bytes32[]"
        }
      ],
      "name": "attach",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_stageHeight",
          "type": "uint256"
        }
      ],
      "name": "getFeeWithStageHeight",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_receipt",
          "type": "bytes32[]"
        },
        {
          "name": "_receipt2",
          "type": "bytes32[]"
        }
      ],
      "name": "challengedRepeatedGSN",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_receipt",
          "type": "bytes32[]"
        },
        {
          "name": "_receipt2",
          "type": "bytes32[]"
        }
      ],
      "name": "challengedWrongBalance",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_receipt",
          "type": "bytes32[]"
        },
        {
          "name": "_receipt2",
          "type": "bytes32[]"
        }
      ],
      "name": "challengedSkippedGSN",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "_parameter",
          "type": "bytes32[]"
        }
      ],
      "name": "getChallengedHash",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "_parameter",
          "type": "bytes32[]"
        }
      ],
      "name": "getChallengedRepeatedGSNListInfo",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        },
        {
          "name": "",
          "type": "bytes32"
        },
        {
          "name": "",
          "type": "bytes32"
        },
        {
          "name": "",
          "type": "bool"
        },
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b50604051620040003803806200400083398101604090815281516020808401518385015160608601516009805433600160a060020a031991821617909155600780548216600160a060020a0380891691909117909155600880549092169085161790556005819055600454600090815260019094529483207f67656e69736973207374616765000000000000000000000000000000000000006002919091015592949093920191905b8251811015620001a0576000808483815181101515620000d657fe5b6020908102909101810151600160a060020a031682528101919091526040016000205460ff1615156200019757600160008085848151811015156200011757fe5b602090810291909101810151600160a060020a03168252810191909152604001600020805460ff19169115159190911790558251600a908490839081106200015b57fe5b6020908102919091018101518254600181018455600093845291909220018054600160a060020a031916600160a060020a039092169190911790555b600101620000ba565b5050505050613e4b80620001b56000396000f3006080604052600436106101445763ffffffff60e060020a600035041662f817d681146101c4578063098bbb6214610209578063130ee4ad1461023e57806326e091c814610272578063376745051461028c5780633b66d02b146102f35780633f8abf741461031757806368ff19291461032c5780636cdcf15014610381578063770e09fd146103995780637b9d7d74146103ba578063845ddcb21461040f5780638a77ce41146104455780638da5cb5b146104d357806390c8a3a1146104e8578063a68f4d27146104fd578063b3c99e271461058b578063b7156cf914610619578063be1946da1461062e578063c5025b8714610683578063c68ef228146106d8578063cc6e7a141461079f578063cf73a1bc146107b4578063f418eae4146107c9578063f950c6a6146107de578063fb3b65bb14610862578063fe2b392414610883575b60408051600380825260808201909252606091602082018380388339505081519192503391839150600090811061017757fe5b60209081029091010152805134908290600190811061019257fe5b602090810290910101528051600090829060029081106101ae57fe5b602090810290910101526101c1816108d8565b50005b3480156101d057600080fd5b506101dc600435610a07565b60408051958652602086019490945284840192909252606084015215156080830152519081900360a00190f35b34801561021557600080fd5b5061022a600160a060020a0360043516610a39565b604080519115158252519081900360200190f35b34801561024a57600080fd5b50610256600435610a4e565b60408051600160a060020a039092168252519081900360200190f35b34801561027e57600080fd5b5061028a600435610a76565b005b34801561029857600080fd5b50604080516020600480358082013583810280860185019096528085526102e195369593946024949385019291829185019084908082843750949750610cdd9650505050505050565b60408051918252519081900360200190f35b3480156102ff57600080fd5b5061022a600160a060020a0360043516602435610d47565b34801561032357600080fd5b506102e1610e43565b34801561033857600080fd5b506040805160206004803580820135838102808601850190965280855261028a95369593946024949385019291829185019084908082843750949750610e4a9650505050505050565b34801561038d57600080fd5b506101dc6004356111d1565b3480156103a557600080fd5b5061028a600160a060020a0360043516611204565b3480156103c657600080fd5b506040805160206004803580820135838102808601850190965280855261028a953695939460249493850192918291850190849080828437509497506112af9650505050505050565b34801561041b57600080fd5b50610427600435611627565b60408051938452602084019290925282820152519081900360600190f35b34801561045157600080fd5b506040805160206004803580820135838102808601850190965280855261028a95369593946024949385019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a9989019892975090820195509350839250850190849080828437509497506116479650505050505050565b3480156104df57600080fd5b50610256611b40565b3480156104f457600080fd5b506102e1611b4f565b34801561050957600080fd5b506040805160206004803580820135838102808601850190965280855261028a95369593946024949385019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a998901989297509082019550935083925085019084908082843750949750611b559650505050505050565b34801561059757600080fd5b506040805160206004803580820135838102808601850190965280855261028a95369593946024949385019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a998901989297509082019550935083925085019084908082843750949750611e609650505050505050565b34801561062557600080fd5b50610256612142565b34801561063a57600080fd5b506040805160206004803580820135838102808601850190965280855261028a953695939460249493850192918291850190849080828437509497506121519650505050505050565b34801561068f57600080fd5b506040805160206004803580820135838102808601850190965280855261028a953695939460249493850192918291850190849080828437509497506127969650505050505050565b3480156106e457600080fd5b506040805160206004803580820135838102808601850190965280855261028a95369593946024949385019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a998901989297509082019550935083925085019084908082843750506040805187358901803560208181028481018201909552818452989b9a9989019892975090820195509350839250850190849080828437509497506129609650505050505050565b3480156107ab57600080fd5b506102e1612b5c565b3480156107c057600080fd5b50610256612b62565b3480156107d557600080fd5b506102e1612b71565b3480156107ea57600080fd5b506040805160206004803580820135838102808601850190965280855261083395369593946024949385019291829185019084908082843750949750612b779650505050505050565b604080519586526020860194909452848401929092521515606084015215156080830152519081900360a00190f35b34801561086e57600080fd5b5061028a600160a060020a0360043516612d85565b34801561088f57600080fd5b506040805160206004803580820135838102808601850190965280855261028a95369593946024949385019291829185019084908082843750949750612f069650505050505050565b600654600454600082815260026020526040812060019092019091558251839190811061090157fe5b60209081029091018101516000838152600290925260409091206001908101919091558251839190811061093157fe5b60209081029091018101516000838152600292839052604090208201558251839190811061095b57fe5b60209081029091018101516000838152600290925260408220600301556006805460010190558251839190811061098e57fe5b60209081029091010151825182907f203792de59a635b49a38a375598d4af1adbb5338d5aac279ec37611d1f0e144890859060019081106109cb57fe5b906020019060200201518560028151811015156109e457fe5b602090810290910181015160408051938452918301528051918290030190a35050565b600260208190526000918252604090912080546001820154928201546003830154600490930154919392909160ff1685565b60006020819052908152604090205460ff1681565b600a805482908110610a5c57fe5b600091825260209091200154600160a060020a0316905081565b6008546000908190819081908190600160a060020a0316331415610cd557600454861115610aee576040805160e560020a62461bcd02815260206004820152601760248201527f4e6f206f766572206368616c6c656e67652074696d652e000000000000000000604482015290519081900360640190fd5b6000868152600160208181526040808420848052600301909152909120805491015490955060ff16935083158015610b265750600085115b15610b8f5760008681526001602081815260408084208480526003019091528083208201805460ff19169092179091556008549051600160a060020a03909116916108fc881502918891818181858888f19350505050158015610b8d573d6000803e3d6000fd5b505b600092505b600a54831015610cd557600a805484908110610bac57fe5b60009182526020808320919091015488835260018083526040808520600160a060020a0390931680865260039093019093529190922090810154905460ff9091169550909250905083158015610c025750600081115b15610cca576000868152600160208181526040808420600160a060020a03808816808752600390920184528286208501805460ff191690951790945560085482517fa9059cbb00000000000000000000000000000000000000000000000000000000815294166004850152602484018690529051909363a9059cbb936044808201949392918390030190829087803b158015610c9d57600080fd5b505af1158015610cb1573d6000803e3d6000fd5b505050506040513d6020811015610cc757600080fd5b50505b600190920191610b94565b505050505050565b600060016000836000815181101515610cf257fe5b90602001906020020151600190048152602001908152602001600020600801826001815181101515610d2057fe5b6020908102909101015181548110610d3457fe5b906000526020600020015490505b919050565b3360009081526020819052604081205460609060ff161515610db3576040805160e560020a62461bcd02815260206004820152601660248201527f4173736574206164647265737320696e76616c69642e00000000000000000000604482015290519081900360640190fd5b6040805160038082526080820190925290602082016060803883395050815191925050600160a060020a0385169082906000908110610dee57fe5b602090810290910101528051839082906001908110610e0957fe5b602090810290910101528051339082906002908110610e2457fe5b60209081029091010152610e37816108d8565b600191505b5092915050565b600a545b90565b600454600754600854606092600092610e7592869260010191600160a060020a03908116911661320d565b1515610ecb576040805160e560020a62461bcd02815260206004820152600a60248201527f57726f6e67207369672e00000000000000000000000000000000000000000000604482015290519081900360640190fd5b6040805160028082526060820183529091602083019080388339019050509150826001815181101515610efa57fe5b90602001906020020151826000815181101515610f1357fe5b60209081029091010152825183906006908110610f2c57fe5b90602001906020020151826001815181101515610f4557fe5b60209081029091010152610f5882613765565b600454600082815260036020526040902060019182019055845191925084918110610f7f57fe5b602090810290910181015160008381526003909252604090912060010155825183906004908110610fac57fe5b60209081029091018101516000838152600392839052604090206002015583518491908110610fd757fe5b60209081029091018101516000838152600392839052604090209091015582516001907f6768e9219651a40c194e7dadba7540b112aa9f5495ed9224d694a2ba71ef9742908590600c90811061102957fe5b9060200190602002015185600081518110151561104257fe5b9060200190602002015186600d81518110151561105b57fe5b9060200190602002015187600e81518110151561107457fe5b906020019060200201516060604051908101604052808a601081518110151561109957fe5b602090810290910181015182528b519101908b9060119081106110b857fe5b602090810290910181015182528b519101908b9060129081106110d757fe5b60209081029091010151905260408051606081019091528a5181908c9060139081106110ff57fe5b602090810290910181015182528c519101908c90601490811061111e57fe5b602090810290910181015182528c519101908c90601590811061113d57fe5b602090810290910181015190915260408051888152918201879052810185905260608082018590526080820190849080838360005b8381101561118a578181015183820152602001611172565b5050505090500182600360200280838360005b838110156111b557818101518382015260200161119d565b50505050905001965050505050505060405180910390a2505050565b60036020819052600091825260409091208054600182015460028301549383015460049093015491939092909160ff1685565b600754600160a060020a03163314156112ac57600160a060020a03811660009081526020819052604090205460ff1615156112ac57600160a060020a0381166000818152602081905260408120805460ff19166001908117909155600a805491820181559091527fc65a7bb8d6351c1cf70c95a316cc6a92839c986682d98bc35f958f4883f9d2a801805473ffffffffffffffffffffffffffffffffffffffff191690911790555b50565b600754600090600160a060020a0316331415611623578160078151811015156112d457fe5b602090810290910181015160008181526002808452604091829020825160a081018452815481526001820154958101959095529081015491840191909152600381015460608401526004015460ff1615156080830152915061133790839061394a565b151561138d576040805160e560020a62461bcd02815260206004820152601260248201527f57726f6e67206465706f736974206c6f672e0000000000000000000000000000604482015290519081900360640190fd5b6004546007546008546113b4928592600190910191600160a060020a03918216911661320d565b151561140a576040805160e560020a62461bcd02815260206004820152600a60248201527f57726f6e67207369672e00000000000000000000000000000000000000000000604482015290519081900360640190fd5b60016002600084600781518110151561141f57fe5b60209081029190910181015182528101919091526040016000908120600401805460ff19169215159290921790915582517f6768e9219651a40c194e7dadba7540b112aa9f5495ed9224d694a2ba71ef9742908490600c90811061147f57fe5b9060200190602002015184600081518110151561149857fe5b9060200190602002015185600d8151811015156114b157fe5b9060200190602002015186600e8151811015156114ca57fe5b906020019060200201516060604051908101604052808960108151811015156114ef57fe5b602090810290910181015182528a519101908a90601190811061150e57fe5b602090810290910181015182528a519101908a90601290811061152d57fe5b6020908102909101015190526040805160608101909152895181908b90601390811061155557fe5b602090810290910181015182528b519101908b90601490811061157457fe5b602090810290910181015182528b519101908b90601590811061159357fe5b602090810290910181015190915260408051888152918201879052810185905260608082018590526080820190849080838360005b838110156115e05781810151838201526020016115c8565b5050505090500182600360200280838360005b8381101561160b5781810151838201526020016115f3565b50505050905001965050505050505060405180910390a25b5050565b600160208190526000918252604090912080549181015460029091015483565b60045460075460085460009261166b928692600160a060020a03918216911661320d565b15156116c1576040805160e560020a62461bcd02815260206004820152601460248201527f526563656970743120697320696e76616c69642e000000000000000000000000604482015290519081900360640190fd5b6004546007546008546116e49285929091600160a060020a03918216911661320d565b151561173a576040805160e560020a62461bcd02815260206004820152601460248201527f526563656970743220697320696e76616c69642e000000000000000000000000604482015290519081900360640190fd5b6000905082600181518110151561174d57fe5b9060200190602002015160019004600160a060020a031682600181518110151561177357fe5b60209081029091010151600160a060020a031614156117f55782600d81518110151561179b57fe5b6020908102909101015182516117e790849060049081106117b857fe5b6020908102909101015184518590600d9081106117d157fe5b602090810290910101519063ffffffff613a2516565b146117f0575060015b6119a8565b82600281518110151561180457fe5b9060200190602002015160019004600160a060020a031682600181518110151561182a57fe5b60209081029091010151600160a060020a031614156118525782600e81518110151561179b57fe5b82600181518110151561186157fe5b9060200190602002015160019004600160a060020a031682600281518110151561188757fe5b60209081029091010151600160a060020a031614156118fb5782600d8151811015156118af57fe5b6020908102909101015182516117e790849060049081106118cc57fe5b6020908102909101015184518590600d9081106118e557fe5b602090810290910101519063ffffffff613a3816565b82600281518110151561190a57fe5b9060200190602002015160019004600160a060020a031682600281518110151561193057fe5b60209081029091010151600160a060020a031614156119585782600e8151811015156118af57fe5b6040805160e560020a62461bcd02815260206004820152600f60248201527f5265636569707473206572726f722e0000000000000000000000000000000000604482015290519081900360640190fd5b8015611b3b5760408051608081018252338152815180830190925284519091602083019181908790600c9081106119db57fe5b6020908102909101810151825286519101908690600c9081106119fa57fe5b6020908102909101810151909152908252600182820181905260006040938401819052600454815291529081208451600590910191908590600c908110611a3d57fe5b60209081029091018101518252818101929092526040016000208251815590820151611a6f9060018301906002613da5565b506040828101516003909201805460609094015115156101000261ff001993151560ff199095169490941792909216929092179055600454600090815260016020522082516008909101908390600c908110611ac757fe5b60209081029091018101518254600181018455600093845291909220015581516002907ffd656b2e5f48a8be9d88bbbb20c5ba9ac45ded8cc81e28436cbf708e0be9da949033908590600c908110611b1b57fe5b602090810290910181015160408051938452918301528051918290030190a25b505050565b600754600160a060020a031681565b60055481565b600454600754600854611b789285929091600160a060020a03918216911661320d565b1515611bce576040805160e560020a62461bcd02815260206004820152601460248201527f526563656970743120697320696e76616c69642e000000000000000000000000604482015290519081900360640190fd5b600454600754600854611bf19284929091600160a060020a03918216911661320d565b1515611c47576040805160e560020a62461bcd02815260206004820152601460248201527f526563656970743220697320696e76616c69642e000000000000000000000000604482015290519081900360640190fd5b80600c815181101515611c5657fe5b6020908102909101015182518390600c908110611c6f57fe5b6020908102909101015114611cce576040805160e560020a62461bcd02815260206004820152600e60248201527f4e6f207265706561742067736e2e000000000000000000000000000000000000604482015290519081900360640190fd5b60408051608081018252338152815180830190925283519091602083019181908690600c908110611cfb57fe5b6020908102909101810151825285519101908590600c908110611d1a57fe5b60209081029091018101519091529082526001828201819052600060409384018190526004805482529190925291812084519201918490600c908110611d5c57fe5b60209081029091018101518252818101929092526040016000208251815590820151611d8e9060018301906002613da5565b506040828101516003909201805460609094015115156101000261ff001993151560ff199095169490941792909216929092179055600454600090815260016020522081516008909101908290600c908110611de657fe5b60209081029091018101518254600181810185556000948552929093209092019190915581517ffd656b2e5f48a8be9d88bbbb20c5ba9ac45ded8cc81e28436cbf708e0be9da949033908490600c908110611e3d57fe5b602090810290910181015160408051938452918301528051918290030190a25050565b600454600754600854611e839285929091600160a060020a03918216911661320d565b1515611ed9576040805160e560020a62461bcd02815260206004820152601460248201527f526563656970743120697320696e76616c69642e000000000000000000000000604482015290519081900360640190fd5b600454600754600854611efc9284929091600160a060020a03918216911661320d565b1515611f52576040805160e560020a62461bcd02815260206004820152601460248201527f526563656970743220697320696e76616c69642e000000000000000000000000604482015290519081900360640190fd5b611f7d82600c815181101515611f6457fe5b6020908102909101015182518390600c9081106118e557fe5b60011415611fd5576040805160e560020a62461bcd02815260206004820152600c60248201527f4e6f20736b69702067736e2e0000000000000000000000000000000000000000604482015290519081900360640190fd5b60408051608081018252338152815180830190925283519091602083019181908690600c90811061200257fe5b6020908102909101810151825285519101908590600c90811061202157fe5b6020908102909101810151909152908252600182820181905260006040938401819052600454815291529081208351600690910191908490600c90811061206457fe5b602090810290910181015182528181019290925260400160002082518155908201516120969060018301906002613da5565b506040828101516003909201805460609094015115156101000261ff001993151560ff199095169490941792909216929092179055600454600090815260016020522081516008909101908290600c9081106120ee57fe5b60209081029091018101518254600181018455600093845291909220015580516003907ffd656b2e5f48a8be9d88bbbb20c5ba9ac45ded8cc81e28436cbf708e0be9da949033908490600c908110611e3d57fe5b600854600160a060020a031681565b60045460075460085460609260009283928392839261218292899260010191600160a060020a03908116911661320d565b15156121d8576040805160e560020a62461bcd02815260206004820152600a60248201527f57726f6e67207369672e00000000000000000000000000000000000000000000604482015290519081900360640190fd5b6005548660048151811015156121ea57fe5b602090810290910101511115612270576040805160e560020a62461bcd02815260206004820152603260248201527f57697468647261772076616c7565206d6f7265207468616e20696e7374616e7460448201527f207769746864726177206d6178696d756d2e0000000000000000000000000000606482015290519081900360840190fd5b604080516002808252606082018352909160208301908038833901905050945085600181518110151561229f57fe5b906020019060200201518560008151811015156122b857fe5b602090810290910101528551869060069081106122d157fe5b906020019060200201518560018151811015156122ea57fe5b602090810290910101526122fd85613765565b60008181526003602052604090206004015490945060ff161561236a576040805160e560020a62461bcd02815260206004820152601860248201527f576974686472617720616c72656164792066696e6973682e0000000000000000604482015290519081900360640190fd5b6004546000858152600360205260409020600191820190558651879190811061238f57fe5b6020908102909101810151600086815260039092526040909120600101558551869060049081106123bc57fe5b602090810290910181015160008681526003928390526040902060020155865187919081106123e757fe5b602090810290910181015160008681526003928390526040902091820155600401805460ff191660019081179091558651879190811061242357fe5b6020908102909101015186519093508690600490811061243f57fe5b6020908102909101015186519092508690600390811061245b57fe5b602090810290910101519050600160a060020a03811615156124b357604051600160a060020a0384169083156108fc029084906000818181858888f193505050501580156124ad573d6000803e3d6000fd5b506125b9565b600160a060020a03811660009081526020819052604090205460ff16156125695780600160a060020a031663a9059cbb84846040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b15801561253757600080fd5b505af115801561254b573d6000803e3d6000fd5b505050506040513d602081101561256157600080fd5b506125b99050565b6040805160e560020a62461bcd02815260206004820152601660248201527f4173736574206164647265737320696e76616c69642e00000000000000000000604482015290519081900360640190fd5b60027f6768e9219651a40c194e7dadba7540b112aa9f5495ed9224d694a2ba71ef974287600c8151811015156125eb57fe5b9060200190602002015188600081518110151561260457fe5b9060200190602002015189600d81518110151561261d57fe5b906020019060200201518a600e81518110151561263657fe5b906020019060200201516060604051908101604052808d601081518110151561265b57fe5b602090810290910181015182528e519101908e90601190811061267a57fe5b602090810290910181015182528e519101908e90601290811061269957fe5b60209081029091010151905260408051606081019091528d5181908f9060139081106126c157fe5b602090810290910181015182528f519101908f9060149081106126e057fe5b602090810290910181015182528f519101908f9060159081106126ff57fe5b602090810290910181015190915260408051888152918201879052810185905260608082018590526080820190849080838360005b8381101561274c578181015183820152602001612734565b5050505090500182600360200280838360005b8381101561277757818101518382015260200161275f565b50505050905001965050505050505060405180910390a2505050505050565b60008060008360028151811015156127aa57fe5b6020908102909101810151600160a060020a03811660009081529182905260409091205490935060ff16151561282a576040805160e560020a62461bcd02815260206004820152601660248201527f4173736574206164647265737320696e76616c69642e00000000000000000000604482015290519081900360640190fd5b83600081518110151561283957fe5b6020908102909101015184519092508490600190811061285557fe5b6020908102909101810151604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a038681166004830152306024830152604482018490529151929450908616926323b872dd926064808401938290030181600087803b1580156128cf57600080fd5b505af11580156128e3573d6000803e3d6000fd5b505050506040513d60208110156128f957600080fd5b50511515612951576040805160e560020a62461bcd02815260206004820152600f60248201527f417070726f7665206661696c65642e0000000000000000000000000000000000604482015290519081900360640190fd5b61295a846108d8565b50505050565b600854600090600160a060020a031633141561295a5781518351146129cf576040805160e560020a62461bcd02815260206004820152601360248201527f4172726179206c656e677468206572726f722e00000000000000000000000000604482015290519081900360640190fd5b6004805460010190558351849060009081106129e757fe5b60209081029091018101516004546000908152600192839052604090205584518591908110612a1257fe5b602090810290910181015160045460009081526001928390526040902090910155835184906002908110612a4257fe5b602090810290910181015160045460009081526001909252604082206002015590505b8251811015612add578181815181101515612a7c57fe5b906020019060200201516001900460016000600454815260200190815260200160002060030160008584815181101515612ab257fe5b6020908102909101810151600160a060020a0316825281019190915260400160002055600101612a65565b7fea3f2b7078db2e6bbf7c7e2ab4a864450c60236f314da2f4340fc53f70f92976600454600102856000815181101515612b1357fe5b90602001906020020151866001815181101515612b2c57fe5b6020908102909101810151604080519485529184019290925282810191909152519081900360600190a150505050565b60065481565b600954600160a060020a031681565b60045481565b600080600080600060016000876000815181101515612b9257fe5b906020019060200201516001900481526020019081526020016000206004016000876001815181101515612bc257fe5b6020908102909101810151825281019190915260400160009081205487519091600191899082908110612bf157fe5b906020019060200201516001900481526020019081526020016000206004016000886001815181101515612c2157fe5b602090810290910181015182528101919091526040016000908120600101015460016000896000815181101515612c5457fe5b906020019060200201516001900481526020019081526020016000206004016000896001815181101515612c8457fe5b6020908102909101810151825281019190915260400160002060019081010154600160008a6000815181101515612cb757fe5b9060200190602002015160019004815260200190815260200160002060040160008a6001815181101515612ce757fe5b602090810290910181015182528101919091526040016000908120600301548a5160ff909116916001918c9082908110612d1d57fe5b9060200190602002015160019004815260200190815260200160002060040160008b6001815181101515612d4d57fe5b602090810291909101810151825281019190915260400160002060030154939a929950909750955061010090910460ff169350915050565b6007546000908190600160a060020a0316331415611b3b57600160a060020a03831660009081526020819052604090205460ff16151560011415611b3b57600160a060020a0383166000908152602081905260408120805460ff1916905591505b600a54821015611b3b5782600160a060020a0316600a83815481101515612e0957fe5b600091825260209091200154600160a060020a03161415612efb5750805b600a5460001901811015612eaa57600a805460018301908110612e4657fe5b600091825260209091200154600a8054600160a060020a039092169183908110612e6c57fe5b6000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055600101612e27565b600a80546000198101908110612ebc57fe5b6000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff19169055600a805490612ef5906000198301613de5565b50611b3b565b600190910190612de6565b604080516002808252606080830184529260009283928392839283929091602083019080388339019050509550866000815181101515612f4257fe5b90602001906020020151866000815181101515612f5b57fe5b60209081029091010152865187906001908110612f7457fe5b90602001906020020151866001815181101515612f8d57fe5b60209081029091010152612fa086613765565b60008181526003602052604090206004015490955060ff161561300d576040805160e560020a62461bcd02815260206004820152601860248201527f576974686472617720616c72656164792066696e6973682e0000000000000000604482015290519081900360640190fd5b6004546000868152600360205260409020541115613075576040805160e560020a62461bcd02815260206004820152601660248201527f4e6f206f766572206368616c6c656e67652074696d6500000000000000000000604482015290519081900360640190fd5b50505060008281526003602081905260409091206001810154600282015491909201549192509080600160a060020a03811615156130e957604051600160a060020a0385169084156108fc029085906000818181858888f193505050501580156130e3573d6000803e3d6000fd5b5061319f565b600160a060020a03811660009081526020819052604090205460ff16156125695780600160a060020a031663a9059cbb85856040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b15801561316d57600080fd5b505af1158015613181573d6000803e3d6000fd5b505050506040513d602081101561319757600080fd5b5061319f9050565b600085815260036020908152604091829020600401805460ff1916600117905581518581529081018490528151600160a060020a0387169288927f733a2fbbad52d09b23c64c7210b6598ee1a79fd3614c2052fd6eb9c5604741b0929081900390910190a350505050505050565b60408051600880825261012082019092526000916060918391829190602082016101008038833901905050925087600181518110151561324957fe5b9060200190602002015183600081518110151561326257fe5b6020908102909101015287518890600290811061327b57fe5b9060200190602002015183600181518110151561329457fe5b602090810290910101528751889060039081106132ad57fe5b906020019060200201518360028151811015156132c657fe5b602090810290910101528751889060049081106132df57fe5b906020019060200201518360038151811015156132f857fe5b6020908102909101015287518890600590811061331157fe5b9060200190602002015183600481518110151561332a57fe5b6020908102909101015287518890600690811061334357fe5b9060200190602002015183600581518110151561335c57fe5b6020908102909101015287518890600790811061337557fe5b9060200190602002015183600681518110151561338e57fe5b602090810290910101528751889060089081106133a757fe5b906020019060200201518360078151811015156133c057fe5b602090810290910101526133d383613765565b91508760008151811015156133e457fe5b6020908102909101015182146133fd576000935061375a565b6134518289600981518110151561341057fe5b602090810290910101518a518b90600a90811061342957fe5b906020019060200201518b600b81518110151561344257fe5b90602001906020020151613a4a565b905087600181518110151561346257fe5b60209081029091010151600160a060020a031615156134b45787600281518110151561348a57fe5b60209081029091010151600160a060020a038281169116146134af576000935061375a565b6134e8565b8760018151811015156134c357fe5b60209081029091010151600160a060020a038281169116146134e8576000935061375a565b61352d828960128151811015156134fb57fe5b602090810290910101518a518b90601390811061351457fe5b906020019060200201518b601481518110151561344257fe5b9050600160a060020a038082169087161461354b576000935061375a565b6040805160088082526101208201909252906020820161010080388339505081519194508891859150600090811061357f57fe5b6020908102909101015287518890600c90811061359857fe5b906020019060200201518360018151811015156135b157fe5b6020908102909101015287518890600d9081106135ca57fe5b906020019060200201518360028151811015156135e357fe5b6020908102909101015287518890600e9081106135fc57fe5b9060200190602002015183600381518110151561361557fe5b6020908102909101015287518890600090811061362e57fe5b9060200190602002015183600481518110151561364757fe5b6020908102909101015287518890600f90811061366057fe5b9060200190602002015183600581518110151561367957fe5b6020908102909101015287518890601090811061369257fe5b906020019060200201518360068151811015156136ab57fe5b602090810290910101528751889060119081106136c457fe5b906020019060200201518360078151811015156136dd57fe5b602090810290910101526136f083613765565b91506137378289601581518110151561370557fe5b602090810290910101518a518b90601690811061371e57fe5b906020019060200201518b601781518110151561344257fe5b9050600160a060020a0380821690861614613755576000935061375a565b600193505b505050949350505050565b6000606060008084511115156137c5576040805160e560020a62461bcd02815260206004820152601460248201527f6861736841727261792e6c656e677468203d2030000000000000000000000000604482015290519081900360640190fd5b6137e68460008151811015156137d757fe5b90602001906020020151613bad565b6040516020018082805190602001908083835b602083106138185780518252601f1990920191602091820191016137f9565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040529150600190505b83518110156138e6576138dc8261387186848151811015156137d757fe5b6040516020018082805190602001908083835b602083106138a35780518252601f199092019160209182019101613884565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052613caa565b9150600101613853565b816040518082805190602001908083835b602083106139165780518252601f1990920191602091820191016138f7565b5181516020939093036101000a60001901801990911692169190911790526040519201829003909120979650505050505050565b6000806139aa84600081518110151561395f57fe5b9060200190602002015185600981518110151561397857fe5b6020908102909101015186518790600a90811061399157fe5b9060200190602002015187600b81518110151561344257fe5b6020840151909150600160a060020a038083169116146139cd5760009150610e3c565b60408301518451859060049081106139e157fe5b60209081029091010151146139f95760009150610e3c565b6060830151845185906003908110613a0d57fe5b6020908102909101015114610e375760009150610e3c565b81810182811015613a3257fe5b92915050565b600082821115613a4457fe5b50900390565b604080518082018252601c8082527f19457468657265756d205369676e6564204d6573736167653a0a333200000000602080840191825293516000948593849386938c9301918291908083835b60208310613ab65780518252601f199092019160209182019101613a97565b51815160209384036101000a600019018019909216911617905292019384525060408051808503815293820190819052835193945092839250908401908083835b60208310613b165780518252601f199092019160209182019101613af7565b51815160209384036101000a600019018019909216911617905260408051929094018290038220600080845283830180875282905260ff8f1684870152606084018e9052608084018d905294519098506001965060a080840196509194601f19820194509281900390910191865af1158015613b96573d6000803e3d6000fd5b5050604051601f1901519998505050505050505050565b60408051818152606080820183529182916000918291906020820161080080388339019050509250600091505b6020821015613ca157506008810260020a8402613bff601060f860020a830404613d21565b8351849060028502908110613c1057fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350613c52601060f860020a830406613d21565b8383600202600101815181101515613c6657fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600190910190613bda565b50909392505050565b815181516040518183018082526060939290916020601f8086018290049301049060005b83811015613cea57600101602081028981015190830152613cce565b5060005b82811015613d0c576001016020810288810151908701830152613cee565b50928301602001604052509095945050505050565b6000600a821015613d3c575060f860020a6030820102610d42565b6010821015613d55575060f860020a6057820102610d42565b6040805160e560020a62461bcd02815260206004820152601160248201527f75696e74546f4173636969206661696c2e000000000000000000000000000000604482015290519081900360640190fd5b8260028101928215613dd5579160200282015b82811115613dd55782518255602090920191600190910190613db8565b50613de1929150613e05565b5090565b815481835581811115611b3b57600083815260209020611b3b9181019083015b610e4791905b80821115613de15760008155600101613e0b5600a165627a7a72305820741df41d220a61b5fdbd734c63f87c01449f0a0d04cad36340abe834f03b469e0029",
  "source": "pragma solidity ^0.4.23;\n\nimport \"./Util.sol\";\nimport \"./EIP20/SafeMath.sol\";\n\ncontract Token {\n    function transfer(address _to, uint256 _value) public returns (bool success);\n    function transferFrom(address _from, address _to, uint256 _value) public returns (bool success);\n}\n\ncontract Booster {\n    using SafeMath for uint256;\n    mapping (address => bool) public assetAddresses;\n    mapping (uint256 => Util.Stage) public stages;\n    mapping (bytes32 => Util.Log) public depositLogs;\n    mapping (bytes32 => Util.Log) public withdrawalLogs;\n\n    uint256 public stageHeight;\n    uint256 public instantWithdrawMaximum;\n    uint256 public depositSequenceNumber;\n    address public owner;\n    address public goblin;\n    address public managerAddress;\n    address[] public assetAddressesArray;\n\n    event ProposeDeposit (\n        bytes32 indexed _dsn,\n        bytes32 indexed _client,\n        bytes32 _value,\n        bytes32 _assetID\n    );\n\n    event VerifyReceipt (\n        uint256 indexed _type, // { 0: deposit, 1: proposeWithdrawal, 2: instantWithdrawal }\n        bytes32 _gsn,\n        bytes32 _lightTxHash,\n        bytes32 _fromBalance,\n        bytes32 _toBalance,\n        bytes32[3] _sigLightTx,\n        bytes32[3] _sigReceipt\n    );\n\n    event Withdraw (\n        bytes32 indexed _wsn,\n        bytes32 indexed _client,\n        bytes32 _value,\n        bytes32 _assetID\n    );\n\n    event Attach (\n        bytes32 _stageHeight,\n        bytes32 _receiptRootHash,\n        bytes32 _accountRootHash\n    );\n\n    event Challenge (\n        uint256 indexed _challengedType, // { type: 1 - 4, 1: repeatedGSN 2: wrongBalance 3: skippedGSN 4: existProof }\n        bytes32 _client,\n        bytes32 _lightTxHash\n    );\n\n    modifier onlyOwner () {\n        if (msg.sender == owner) _;\n    }\n\n    modifier onlyGoblin () {\n        if (msg.sender == goblin) _;\n    }\n\n    constructor (\n        address _boosterOwner,\n        address _goblin,\n        address[] _assetAddresses,\n        uint256 _instantWithdrawMaximum\n    ) public {\n        managerAddress = msg.sender;\n        owner = _boosterOwner;\n        goblin = _goblin;\n        instantWithdrawMaximum = _instantWithdrawMaximum;\n        stages[stageHeight].data = \"genisis stage\";\n\n        for (uint i = 0; i < _assetAddresses.length; i++) {\n            if (assetAddresses[_assetAddresses[i]] == false) {\n                assetAddresses[_assetAddresses[i]] = true;\n                assetAddressesArray.push(_assetAddresses[i]);\n            }\n        }\n    }\n\n    function setAssetAddress(address asAddress) public onlyOwner {\n        if (assetAddresses[asAddress] == false) {\n            assetAddresses[asAddress] = true;\n            assetAddressesArray.push(asAddress);\n        }\n    }\n\n    function unsetAssetAddress(address asAddress) public onlyOwner {\n        if (assetAddresses[asAddress] == true) {\n            assetAddresses[asAddress] = false;\n            // remove asset address from assetAddressesArray\n            for (uint i = 0; i < assetAddressesArray.length; i++) {\n                if (assetAddressesArray[i] == asAddress) {\n                    for (uint j = i; j < assetAddressesArray.length - 1; j++){\n                        assetAddressesArray[j] = assetAddressesArray[j + 1];\n                    }\n                    delete assetAddressesArray[assetAddressesArray.length - 1];\n                    assetAddressesArray.length--;\n                    break;\n                }\n            }\n        }\n    }\n\n    function getAssetAddressesLength() public view returns (uint256) {\n        return assetAddressesArray.length;\n    }\n\n    function proposeTokenDeposit (bytes32[] _parameter) public {\n        /*\n        _parameter[0] = client\n        _parameter[1] = value\n        _parameter[2] = assetID\n        */\n\n        address assetAddress = address(_parameter[2]);\n        require(assetAddresses[assetAddress] != false, \"Asset address invalid.\");\n        address client = address(_parameter[0]);\n        uint256 value = uint256(_parameter[1]);\n        require(Token(assetAddress).transferFrom(client, this, value), \"Approve failed.\");\n        writeDepositLog(_parameter);\n    }\n\n    function deposit (bytes32[] _parameter) public onlyOwner {\n        bytes32 dsn = bytes32(_parameter[7]);\n        require(Util.isLogValid(_parameter, depositLogs[dsn]), \"Wrong deposit log.\");\n        require(Util.isSigValid(_parameter, stageHeight + 1, owner, goblin), \"Wrong sig.\");\n        depositLogs[_parameter[7]].flag = true;\n\n        emit VerifyReceipt (\n            0,\n            _parameter[12],\n            _parameter[0],\n            _parameter[13],\n            _parameter[14],\n            [\n                _parameter[16],\n                _parameter[17],\n                _parameter[18]\n            ],\n            [\n                _parameter[19],\n                _parameter[20],\n                _parameter[21]\n            ]);\n    }\n\n    function proposeWithdrawal (bytes32[] _parameter) public {\n        require(Util.isSigValid(_parameter, stageHeight + 1, owner, goblin), \"Wrong sig.\");\n        /*\n        wsn = concat(from + nonce)\n        */\n        bytes32[] memory bytes32Array = new bytes32[](2);\n        bytes32Array[0] = _parameter[1]; // from\n        bytes32Array[1] = _parameter[6]; // nonce\n        bytes32 wsn = Util.hashArray(bytes32Array);\n\n        withdrawalLogs[wsn].stage = bytes32(stageHeight + 1);\n        withdrawalLogs[wsn].client = _parameter[1];\n        withdrawalLogs[wsn].value = _parameter[4];\n        withdrawalLogs[wsn].assetID = _parameter[3];\n\n        emit VerifyReceipt (\n            1,\n            _parameter[12],\n            _parameter[0],\n            _parameter[13],\n            _parameter[14],\n            [\n                _parameter[16],\n                _parameter[17],\n                _parameter[18]\n            ],\n            [\n                _parameter[19],\n                _parameter[20],\n                _parameter[21]\n            ]);\n    }\n\n    function withdraw (bytes32[] _parameter) public {\n        /*\n        _parameter[0] = from\n        _parameter[1] = nonce\n        */\n        // flag = false\n        bytes32[] memory bytes32Array = new bytes32[](2);\n        bytes32Array[0] = _parameter[0];\n        bytes32Array[1] = _parameter[1];\n        bytes32 wsn = Util.hashArray(bytes32Array);\n        require(withdrawalLogs[wsn].flag == false, \"Withdraw already finish.\");\n        // over challenge time\n        require (uint256(withdrawalLogs[wsn].stage) <= stageHeight, \"No over challenge time\");\n        address client = address(withdrawalLogs[wsn].client);\n        uint256 value = uint256(withdrawalLogs[wsn].value);\n        bytes32 assetID = bytes32(withdrawalLogs[wsn].assetID);\n        address assetAddress = address(assetID);\n        if (assetAddress == address(0)) {\n            client.transfer(value);\n        } else if (assetAddresses[assetAddress] != false) {\n            Token(assetAddress).transfer(client, value);\n        } else {\n            revert(\"Asset address invalid.\");\n        }\n        withdrawalLogs[wsn].flag = true;\n        emit Withdraw (wsn, bytes32(client), bytes32(value), assetID);\n    }\n\n    function instantWithdraw (bytes32[] _parameter) public {\n        require(Util.isSigValid(_parameter, stageHeight + 1, owner, goblin), \"Wrong sig.\");\n        // instantWithdraw condition\n        require (uint256(_parameter[4]) <= instantWithdrawMaximum, \"Withdraw value more than instant withdraw maximum.\");\n        /*\n        wsn = concat(from + nonce)\n        */\n        bytes32[] memory bytes32Array = new bytes32[](2);\n        bytes32Array[0] = _parameter[1]; // from\n        bytes32Array[1] = _parameter[6]; // nonce\n        bytes32 wsn = Util.hashArray(bytes32Array);\n\n        require(withdrawalLogs[wsn].flag == false, \"Withdraw already finish.\");\n        withdrawalLogs[wsn].stage = bytes32(stageHeight + 1);\n        withdrawalLogs[wsn].client = _parameter[1];\n        withdrawalLogs[wsn].value = _parameter[4];\n        withdrawalLogs[wsn].assetID = _parameter[3];\n        withdrawalLogs[wsn].flag = true;\n\n        address client = address(_parameter[1]);\n        uint256 value = uint256(_parameter[4]);\n        address assetAddress = address(_parameter[3]);\n        if (assetAddress == address(0)) {\n            client.transfer(value);\n        } else if (assetAddresses[assetAddress] != false) {\n            Token(assetAddress).transfer(client, value);\n        } else {\n            revert(\"Asset address invalid.\");\n        }\n        emit VerifyReceipt (\n            2,\n            _parameter[12],\n            _parameter[0],\n            _parameter[13],\n            _parameter[14],\n            [\n                _parameter[16],\n                _parameter[17],\n                _parameter[18]\n            ],\n            [\n                _parameter[19],\n                _parameter[20],\n                _parameter[21]\n            ]);\n    }\n\n    function () public payable {\n        /*\n        called delegateToLib to 'proposeDeposit(bytes32[])'\n        gas used : 127075\n        gad used : 106627\n        suggested gas : 150000\n        */\n        bytes32[] memory bytes32Array = new bytes32[](3);\n        bytes32Array[0] = bytes32(msg.sender);\n        bytes32Array[1] = bytes32(msg.value);\n        bytes32Array[2] = bytes32(0);\n        writeDepositLog(bytes32Array);\n    }\n\n    function tokenFallback(address _from, uint _value) public returns (bool success) {\n        if(assetAddresses[msg.sender] == false) {\n            revert(\"Asset address invalid.\");\n        } else {\n            bytes32[] memory bytes32Array = new bytes32[](3);\n            bytes32Array[0] = bytes32(_from);\n            bytes32Array[1] = bytes32(_value);\n            bytes32Array[2] = bytes32(msg.sender);\n            writeDepositLog(bytes32Array);\n            return true;\n        }\n    }\n\n    function writeDepositLog (bytes32[] _parameter) private {\n        /*\n        _parameter[0] = client\n        _parameter[1] = value\n        _parameter[2] = assetID\n        */\n\n        bytes32 dsn = bytes32(depositSequenceNumber);\n        depositLogs[dsn].stage = bytes32(stageHeight + 1);\n        depositLogs[dsn].client = _parameter[0];\n        depositLogs[dsn].value = _parameter[1];\n        depositLogs[dsn].assetID = _parameter[2];\n        depositSequenceNumber++;\n        emit ProposeDeposit (dsn, _parameter[0], _parameter[1], _parameter[2]);\n    }\n\n    function attach (bytes32[] _parameter, bytes32[] _assetAddress, bytes32[] _feeValue) public onlyGoblin {\n        require(_assetAddress.length == _feeValue.length, \"Array length error.\");\n        /*\n        _parameter[0] = _receiptRootHash\n        _parameter[1] = _accountRootHash\n        _parameter[2] = _data\n        */\n        stageHeight++;\n        stages[stageHeight].receiptRootHash = _parameter[0];\n        stages[stageHeight].accountRootHash = _parameter[1];\n        stages[stageHeight].data = _parameter[2];\n        for (uint i = 0; i < _assetAddress.length; i++) {\n            stages[stageHeight].fee[address(_assetAddress[i])].value = uint256(_feeValue[i]);\n        }\n        emit Attach (bytes32(stageHeight), _parameter[0], _parameter[1]);\n    }\n\n    function getFeeWithStageHeight (uint256 _stageHeight) public onlyGoblin {\n        require(_stageHeight <= stageHeight, \"No over challenge time.\");\n        //ETH fee\n        uint256 ethFeeValue = stages[_stageHeight].fee[address(0)].value;\n        bool isFeeWithdrawed = stages[_stageHeight].fee[address(0)].withdrawed;\n        if (isFeeWithdrawed == false && ethFeeValue > 0) {\n            stages[_stageHeight].fee[address(0)].withdrawed = true;\n            goblin.transfer(ethFeeValue);\n        }\n        // Token fee\n        for (uint i = 0; i < assetAddressesArray.length; i++) {\n            address assetAddress = assetAddressesArray[i];\n            isFeeWithdrawed = stages[_stageHeight].fee[assetAddress].withdrawed;\n            uint256 tokenFeeValue = stages[_stageHeight].fee[assetAddress].value;\n            if (isFeeWithdrawed == false && tokenFeeValue > 0) {\n                stages[_stageHeight].fee[assetAddress].withdrawed = true;\n                Token(assetAddress).transfer(goblin, tokenFeeValue);\n            }\n        }\n    }\n    \n    function challengedRepeatedGSN (bytes32[] _receipt, bytes32[] _receipt2) public {\n        require(Util.isSigValid(_receipt, stageHeight, owner, goblin), \"Receipt1 is invalid.\");\n        require(Util.isSigValid(_receipt2, stageHeight, owner, goblin), \"Receipt2 is invalid.\");\n        require (uint256(_receipt[12]) == uint256(_receipt2[12]), \"No repeat gsn.\"); // compare gsn\n        stages[stageHeight].challengedRepeatedGSNList[_receipt2[12]] = Util.ChallengedInfo(\n            bytes32(msg.sender), [_receipt[12], _receipt2[12]], true, false);\n        stages[stageHeight].challengedGsn.push(_receipt2[12]);\n        emit Challenge (1, bytes32(msg.sender), _receipt2[12]);\n    }\n\n    function challengedWrongBalance (bytes32[] _receipt, bytes32[] _receipt2) public {\n        require(Util.isSigValid(_receipt, stageHeight, owner, goblin), \"Receipt1 is invalid.\");\n        require(Util.isSigValid(_receipt2, stageHeight, owner, goblin), \"Receipt2 is invalid.\");\n        bool flag = false;\n        if (address(_receipt2[1]) == address(_receipt[1])) { // from = from\n            if ((uint256(_receipt2[13]).add(uint256(_receipt2[4]))) != uint256(_receipt[13])) {\n                flag = true;\n            }\n        } else if (address(_receipt2[1]) == address(_receipt[2])) { // from = to\n            if ((uint256(_receipt2[13]).add(uint256(_receipt2[4]))) != uint256(_receipt[14])) {\n                flag = true;\n            }\n        } else if (address(_receipt2[2]) == address(_receipt[1])) { // to = from\n            if ((uint256(_receipt2[13]).sub(uint256(_receipt2[4]))) != uint256(_receipt[13])) {\n                flag = true;\n            }\n        } else if (address(_receipt2[2]) == address(_receipt[2])) { // to = to\n            if ((uint256(_receipt2[13]).sub(uint256(_receipt2[4]))) != uint256(_receipt[14])) {\n                flag = true;\n            }\n        } else {\n            revert(\"Receipts error.\");\n        }\n        if (flag) {\n            stages[stageHeight].challengedWrongBalanceList[_receipt2[12]] = Util.ChallengedInfo(\n            bytes32(msg.sender), [_receipt[12], _receipt2[12]], true, false);\n            stages[stageHeight].challengedGsn.push(_receipt2[12]);\n            emit Challenge (2, bytes32(msg.sender), _receipt2[12]);\n        }\n    }\n\n    function challengedSkippedGSN (bytes32[] _receipt, bytes32[] _receipt2) public {\n        require(Util.isSigValid(_receipt, stageHeight, owner, goblin), \"Receipt1 is invalid.\");\n        require(Util.isSigValid(_receipt2, stageHeight, owner, goblin), \"Receipt2 is invalid.\");\n        require (uint256(_receipt2[12]).sub(uint256(_receipt[12])) != 1, \"No skip gsn.\");\n        stages[stageHeight].challengedSkippedGSNList[_receipt2[12]] = Util.ChallengedInfo(\n            bytes32(msg.sender), [_receipt[12], _receipt2[12]], true, false);\n        stages[stageHeight].challengedGsn.push(_receipt2[12]);\n        emit Challenge (3, bytes32(msg.sender), _receipt2[12]);\n    }\n\n    // function challengedExistedProof (bytes32[] _parameter) public {\n    //     require(Util.isSigValid(_parameter, stageHeight, owner, goblin), \"Receipt is invalid.\");\n    //     stages[uint256(_parameter[35])].challengedExistedProofList[_parameter[13]] = Util.ChallengedInfo(bytes32(msg.sender), [_parameter[13], 0x0], true, false);\n    //     stages[uint256(_parameter[12])].challengedGsn.push(_parameter[13]);\n    //     emit Challenge (4, bytes32(msg.sender), _parameter[13]);\n    // }\n\n    function getChallengedHash (bytes32[] _parameter) public view returns (bytes32) {\n        /*\n        parameter[0] = _stageHeight,\n        parameter[1] = _challengeNumber\n        */\n        return stages[uint256(_parameter[0])].challengedGsn[uint256(_parameter[1])];\n    }\n\n    function getChallengedRepeatedGSNListInfo (bytes32[] _parameter) public view returns (bytes32, bytes32, bytes32, bool, bool) {\n        /*\n        parameter[0] = _stageHeight,\n        parameter[1] = _lightTxHash\n        */\n        return (stages[uint256(_parameter[0])].challengedRepeatedGSNList[_parameter[1]].client,\n        stages[uint256(_parameter[0])].challengedRepeatedGSNList[_parameter[1]].gsn[0],\n        stages[uint256(_parameter[0])].challengedRepeatedGSNList[_parameter[1]].gsn[1],\n        stages[uint256(_parameter[0])].challengedRepeatedGSNList[_parameter[1]].challengedState,\n        stages[uint256(_parameter[0])].challengedRepeatedGSNList[_parameter[1]].getCompensation);\n    }\n}\n",
  "compiler": {
    "name": "solc",
    "version": "0.4.24+commit.e67f0147.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "2.0.1"
}